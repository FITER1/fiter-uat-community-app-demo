<div class="content-container" ng-controller="CreditScoringController">
    <ul class="breadcrumb">
        <li><a href="#/clients">{{'label.anchor.clients' | translate}}</a></li>
        <li><a href='#/viewclient/{{clientId}}'>{{'label.anchor.viewclient' | translate}}</a></li>
        <li class="active">{{'label.creditscoring' | translate}}</li>
    </ul>
    
    <wizard current-step="step" on-finish="submit()" class="card well">
        <wz-step icon="fa fa-circle-o" wz-title="{{'label.heading.creditscoringburrower' | translate}}">
            <form name="Burrower" novalidate="" ng-submit="goNext(Burrower)" class="form-inline">
                <fieldset>
                    <api-validate></api-validate>
                    <!-- <h3>{{'label.heading.details' | translate}}</h3> -->

                    <hr>
                    <table class="" style="border-spacing: 10px; border-collapse: separate">
                        <tr>
                            <td class="width14">
                                <label>{{ 'label.input.product' | translate }}
                                    <span class="required">*</span>:&nbsp;
                                </label>
                                <i class="fa fa-question-circle" uib-tooltip="{{'label.tooltip.product' | translate}}"></i>
                            </td>
                            <td class="width36 paddedbottom20">
                                <select id="scoringId" ng-model="configuration" class="form-control width170px" ng-options="product.scoringMethod as product.name for product in products"
                                    value="{{product.scoringMethod}}" ng-change="loanProductChange(configuration)" class="form-control width170px"
                                    required="required">
                                    <option style="display:none" value="">{{'label.selectloanproduct' | translate}}
                                    </option>
                                </select>
                            </td>
                        </tr>
                    </table>
                    <hr ng-show="configuration">
                    <table ng-show="configuration" class="" style="border-spacing: 10px; border-collapse: separate">
                        <tr>
                            <td class="width14">
                                <label>{{'label.input.dateofbirth' | translate}}:&nbsp;</label>
                                <span class="required">*</span>:</label>
                            </td>
                            <td class="paddedbottom20 width36">
                                <input id="dateofbirth" type="text" name="dateofbirth" datepicker-pop="dd MMMM yyyy"
                                    ng-model="formData.burrower.dateOfBirth" is-open="opened1" min="minDate" max="restrictDate"  class="form-control"/>
                                <form-validate valattributeform="Burrower" valattribute="dateofbirth" />
                            </td>
                            <td class="width14">
                                <label>{{ 'label.input.employment' | translate }}:&nbsp;</label>
                                <span class="required">*</span>:</label>
                            </td>
                            <td class="paddedbottom20 width36">
                                <select id="employment" ng-model="formData.burrower.employment" class="form-control width170px" ng-options="entry for entry in placeholder.employment"
                                    value="{{entry}" class="form-control width170px"
                                    required="required">
                                    <option style="display:none" value="">
                                    </option>
                                </select>
                                <form-validate valattributeform="Burrower" valattribute="employment" />
                            </td>
                        </tr>
                        <tr>
                            <td class="width14">
                                <label>{{ 'label.input.dtiratio' | translate }}</label>
                                <span class="required">*</span>:</label>
                            </td>
                            <td class="paddedbottom20 width36">
                                <input type="text" id="dtiRatio" name="dtiRatio" ng-model="formData.burrower.dtiRatio" class="form-control" number-format required/>
                                <form-validate valattributeform="Burrower" valattribute="dtiRatio" />
                            </td>
                            <td class="width14">
                                <label>{{ 'label.input.paymentincidents' | translate }}</label>
                                <span class="required">*</span>:</label>
                            </td>
                            <td class="paddedbottom20 width36">
                                <select id="paymentIncidents" ng-model="formData.burrower.paymentIncidents" class="form-control width170px" ng-options="entry for entry in placeholder.paymentIncidents"
                                    value="{{entry}" class="form-control width170px"
                                    required="required">
                                    <option style="display:none" value="">
                                    </option>
                                </select>
                                <form-validate valattributeform="Burrower" valattribute="paymentIncidents" />
                            </td>
                        </tr>
                        <tr>
                            <td class="width14">
                                <label>{{ 'label.input.monthlyincome' | translate }}</label>
                                <span class="required">*</span>:</label>
                            </td>
                            <td class="paddedbottom20 width36">
                                <input type="text" id="monthlyIncome" name="monthlyIncome" ng-model="formData.burrower.monthlyIncome" class="form-control" number-format required/>
                                <form-validate valattributeform="Burrower" valattribute="monthlyIncome" />
                            </td>
                            <td class="width14">
                                <label>{{ 'label.input.liquidatedassets' | translate }}</label>
                                <span class="required">*</span>:</label>
                            </td>
                            <td class="paddedbottom20 width36">
                                <select id="liquidatedAssets" ng-model="formData.burrower.liquidatedAssets" class="form-control width170px" ng-options="entry for entry in placeholder.liquidatedAssets"
                                    value="{{entry}" class="form-control width170px"
                                    required="required">
                                    <option style="display:none" value="">
                                    </option>
                                </select>
                                <form-validate valattributeform="Burrower" valattribute="liquidatedAssets" />
                            </td>
                        </tr>
                    </table>
                    <hr>
                    <button class="btn btn-default pull-left" wz-previous disabled ng-hide="disabled"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Previous
                    </button>
                    <button class="btn btn-default pull-right" type="submit" ng-hide="disabled">Next&nbsp;&nbsp;<i class="fa fa-arrow-right"></i>
                    </button>
                    <div class="col-sm-offset-6">
                    <button class="btn btn-warning" ng-hide="!disabled" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
                    </div>
                </fieldset>
            </form>
        </wz-step>
        <wz-step wz-title="{{ 'label.heading.creditscoringloan' | translate }}" wz-disabled="{{disabled}}">
            <form name="Loan" ng-submit="goNext(Loan)" class="form-inline">
                <fieldset>
                    <api-validate></api-validate>
                    <!--<h3>{{ 'label.heading.terms' | translate }}</h3>-->
                    <hr>
                    <table class="width100">
                        <tr>
                            <td class="width19">
                                <label>{{ 'label.input.amount' | translate }}&nbsp;
                                    <span class="required">*</span>:</label>
                            </td>
                            <td class="width31 paddedbottom20">
                                <input type="text" class="form-control" id="amount" name="amount" ng-model="formData.loan.amount" number-format required
                                    late-Validate/>&nbsp;{{loanaccountinfo.currency.displaySymbol}}
                                <form-validate valattributeform="Loan" valattribute="amount" />
                            </td>
                            <td class="width14">
                                <label>{{ 'label.input.interest' | translate }}&nbsp;
                                    <span class="required">*</span>:</label>
                            </td>
                            <td class="width31 paddedbottom20">
                                <input type="text" class="form-control" id="interest" name="interest" ng-model="formData.loan.interest" number-format required
                                    late-Validate/>&nbsp;{{loanaccountinfo.currency.displaySymbol}}
                                <form-validate valattributeform="Loan" valattribute="interest" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>{{ 'label.input.opening' | translate }}&nbsp;
                                    <span class="required">*</span>
                                </label>
                            </td>
                            <td class="paddedbottom20">
                                <input id="opening" class="form-control" name="opening" type="text" ng-model="formData.loan.opening"
                                    required late-Validate>&nbsp;
                                <form-validate valattributeform="Loan" valattribute="opening" />
                            </td>
                            <td>
                                <label>{{ 'label.input.term' | translate }}&nbsp;
                                    <span class="required">*</span>
                                </label>
                            </td>
                            <td class="paddedbottom20">
                                <input id="term" class="form-control" name="term" type="text" ng-model="formData.loan.term"
                                    required late-Validate>&nbsp;
                                <form-validate valattributeform="Loan" valattribute="term" />
                            </td>

                        </tr>
                        <tr>
                            <td>
                                <label>{{ 'label.input.loandestiny' | translate }}</label>
                                <span class="required">*</span>
                            </td>
                            <td class="paddedbottom20">
                                <select id="loanDestiny" ng-model="formData.loan.loanDestiny" class="form-control width170px" ng-options="entry for entry in placeholder.loanDestiny"
                                    value="{{entry}" class="form-control width170px"
                                    required="required">
                                    <option style="display:none" value="">
                                    </option>
                                </select>
                                <form-validate valattributeform="Loan" valattribute="loanDestiny" />
                            </td>
                            <td>
                                <label class="control-label">{{ 'label.input.annualapr' | translate }}:</label>
                                <span class="required">*</span>
                            </td>
                            <td class="paddedbottom20">
                                <input id="annualApr" type="text" ng-model="formData.loan.annualApr" class="form-control" required/>
                            </td>
                        </tr>
                    </table>

                    <hr>
                    <button class="btn btn-default pull-left" wz-previous>
                        <i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Previous
                    </button>
                    <button class="btn btn-default pull-right" type="submit">Next&nbsp;&nbsp;
                        <i class="fa fa-arrow-right"></i>
                    </button>
                </fieldset>
            </form>
        </wz-step>
        <wz-step wz-title="{{ 'label.heading.creditscoringcollateral' | translate }}" wz-disabled="{{disabled}}">
            <form name="Collateral" ng-submit="goNext(Collateral)" class="form-inline">
                <fieldset>
                    <api-validate></api-validate>
                    <!--<h3>{{ 'label.heading.terms' | translate }}</h3>-->
                    <hr>
                    <table ng-show="loanaccountinfo" ng-hide="previewRepayment" class=" width100">
                        <tr>
                            <td class="width19">
                                <label>{{ 'label.input.propertytype' | translate }}&nbsp;
                                    <span class="required">*</span>:</label>
                            </td>
                            <td class="width31 paddedbottom20">
                                <select id="propertyType" ng-model="formData.collateral.propertyType" class="form-control width170px" ng-options="entry for entry in placeholder.propertyType"
                                    value="{{entry}" class="form-control width170px"
                                    required="required">
                                    <option style="display:none" value="">
                                    </option>
                                </select>
                                <form-validate valattributeform="Collateral" valattribute="propertyType" />
                            </td>
                            <td class="width14">
                                <label>{{ 'label.input.ltv' | translate }}&nbsp;
                                    <span class="required">*</span>:</label>
                            </td>
                            <td class="width31 paddedbottom20">
                                <input type="text" class="form-control" id="ltv" name="ltv" ng-model="formData.collateral.ltv" number-format required
                                    late-Validate/>
                                <form-validate valattributeform="Collateral" valattribute="ltv" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>{{ 'label.input.lltv' | translate }}&nbsp;
                                    <span class="required">*</span>
                                </label>
                            </td>
                            <td class="paddedbottom20">
                                <input id="lltv" class="form-control" name="lltv" type="text" ng-model="formData.collateral.lltv" number-format
                                    required late-Validate>&nbsp;
                                <form-validate valattributeform="Collateral" valattribute="lltv" />
                            </td>
                            <td>
                                <label>{{ 'label.input.previouscharges' | translate }}&nbsp;
                                    <span class="required">*</span>
                                </label>
                            </td>
                            <td class="paddedbottom20">
                                <input id="previousCharges" class="form-control" name="previousCharges" type="text" ng-model="formData.collateral.previousCharges" number-format
                                    required late-Validate>&nbsp;
                                <form-validate valattributeform="Collateral" valattribute="previousCharges" />
                            </td>

                        </tr>
                        <tr>
                            <td>
                                <label>{{ 'label.input.population' | translate }}</label>
                                <span class="required">*</span>
                            </td>
                            <td class="paddedbottom20">
                                <input id="population" class="form-control" name="population" type="text" ng-model="formData.collateral.population" number-format
                                    required late-Validate>&nbsp;
                                <form-validate valattributeform="Collateral" valattribute="population" />
                            </td>
                            <td>
                                <label class="control-label">{{ 'label.input.pricepermetersquare' | translate }}:</label>
                                <span class="required">*</span>
                            </td>
                            <td class="paddedbottom20">
                                <input id="pricePerMeterSquare" type="text" ng-model="formData.collateral.pricePerMeterSquare" class="form-control" number-format required/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>{{ 'label.input.liquidityratio' | translate }}</label>
                                <span class="required">*</span>
                            </td>
                            <td class="paddedbottom20">
                                <input id="liquidityRatio" class="form-control" name="liquidityRatio" type="text" ng-model="formData.collateral.liquidityRatio" number-format
                                    required late-Validate>&nbsp;
                                <form-validate valattributeform="Collateral" valattribute="liquidityRatio" />
                            </td>
                            <td>
                                <label class="control-label">{{ 'label.input.buildingvalueratio' | translate }}:</label>
                                <span class="required">*</span>
                            </td>
                            <td class="paddedbottom20">
                                <input id="buildingValueRatio" type="text" ng-model="formData.collateral.buildingValueRatio" class="form-control" number-format required/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>{{ 'label.input.far' | translate }}</label>
                                <span class="required">*</span>
                            </td>
                            <td class="paddedbottom20">
                                <input id="far" class="form-control" name="far" type="text" ng-model="formData.collateral.far" number-format
                                    required late-Validate>&nbsp;
                                <form-validate valattributeform="Collateral" valattribute="far" />
                            </td>
                        </tr>
                    </table>

                    <hr>
                    <button class="btn btn-default pull-left" wz-previous>
                        <i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Previous
                    </button>
                    <button class="btn btn-default pull-right" type="submit">Next&nbsp;&nbsp;
                        <i class="fa fa-arrow-right"></i>
                    </button>
                </fieldset>
            </form>
        </wz-step>
        <wz-step icon="fa fa-circle-o" ng-repeat="datatable in datatables" wz-title="{{datatable.registeredTableName}}" id="dynamicSteps"
            wz-disabled="{{disabled}}">
            <form name="Datatables" class="form-horizontal" ng-submit="submit()">
                <fieldset>
                    <api-validate></api-validate>
                    <!--<h3><strong>{{datatable.registeredTableName}}</strong></h3>-->
                    <hr/>
                    <div class="form-group" ng-repeat="columnHeader in datatable.columnHeaderData">
                        <label class="control-label col-sm-3">{{ columnHeader.columnName | prettifyDataTableColumn }}
                            <span ng-show="!columnHeader.isColumnNullable" class="required">*</span>
                        </label>

                        <div class="col-sm-3">
                            <input ng-show="fieldType(columnHeader.columnDisplayType) == 'TEXT'" type="text" ng-model="formData.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName]"
                                class="form-control" />
                            <input ng-show="fieldType(columnHeader.columnDisplayType) == 'DATE'" type="text" datepicker-pop="dd MMMM yyyy" ng-model="formDat.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName]"
                                is-open="opened{{$index}}" class="form-control" />
                            <div ng-show="fieldType(columnHeader.columnDisplayType) == 'DATETIME'" class="form-inline">
                                <div class="form-group">
                                    <input type="text" datepicker-pop="dd MMMM yyyy" ng-model="formDat.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName].date"
                                        is-open="opened{{$index}}" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <input type="time" placeholder="HH:MM:SS" ng-model="formDat.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName].time"
                                        class="form-control" />
                                </div>
                            </div>
                            <div ng-show="fieldType(columnHeader.columnDisplayType) == 'BOOLEAN'">
                                <label class="radio-inline">
                                    <input type="radio" ng-model="formData.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName]" value="true"
                                    /> {{'label.input.true' | translate}}
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" ng-model="formData.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName]" value="false"
                                    /> {{'label.input.false' | translate}}
                                </label>
                            </div>
                            <span data-ng-switch on="columnHeader.columnDisplayType">
                                <select ng-show="fieldType(columnHeader.columnDisplayType) == 'SELECT'" data-ng-switch-when="CODELOOKUP" ng-model="formData.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName]"
                                    ng-options="columnValue.id as columnValue.value for columnValue in columnHeader.columnValues"
                                    value="{{columnValue.id}}" class="form-control">
                                    <option value="">{{'label.selectone' | translate}}</option>
                                </select>
                                <select ng-show="fieldType(columnHeader.columnDisplayType) == 'SELECT'" data-ng-switch-when="CODEVALUE" ng-model="formData.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName]"
                                    ng-options="columnValue.value as columnValue.value for columnValue in columnHeader.columnValues"
                                    value="{{columnValue.id}}" class="form-control">
                                    <option value="">{{'label.selectone' | translate}}</option>
                                </select>
                            </span>
                        </div>
                    </div>
                    <!--<div class="col-md-offset-5" ng-if="$last">-->
                    <!--<button id="cancel3" type="reset" class="btn btn-default" ng-click="cancel()">-->
                    <!--{{'label.button.cancel' | translate}}-->
                    <!--</button>-->
                    <!--<button id="save3" type="submit" has-permission='CREATE_LOAN' class="btn btn-primary"-->
                    <!--ng-show="loanaccountinfo">{{'label.button.save' |-->
                    <!--translate}}-->
                    <!--</button>-->
                    <!--</div>-->
                    <hr>
                    <button class="btn btn-default pull-left" wz-previous>
                        <i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Previous
                    </button>
                    <button class="btn btn-default pull-right" type="submit">Next&nbsp;&nbsp;
                        <i class="fa fa-arrow-right"></i>
                    </button>
                </fieldset>
            </form>
        </wz-step>
        <wz-step wz-title="Review" ng-if="!disabled">
            <form name="review" class="form-horizontal">
                <fieldset>
                    <api-validate></api-validate>
                    <!--<h3>Review</h3>-->

                    <div ng-hide="scoring.qualification" class="col-md-offset-5" style="padding-top:100px">
                    <!-- <div class="col-md-offset-5" style="padding-top:100px"> -->
                        <!-- <button id="cancel3" type="reset" class="btn btn-default" ng-click="cancel()">
                            {{'label.button.cancel' | translate}}
                        </button> -->
                        <button id="save" type="submit" class="btn btn-primary" wz-next>{{'label.button.processcreditscoring' | translate}}
                        </button>
                    </div>
                    <div ng-show="scoring.qualification" class="col-sm-6 col-md-offset-2 table-responsive">
                        <br>
                        <br>
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th colspan="3" class="col-md-6 text-center">{{'label.heading.scoringresult' | translate}}</th>
                                </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th><strong>{{'label.heading.totalscore' | translate}}</strong></th>
                                        <td style="font-size:20px">{{scoring.totalScore}}</td>
                                    </tr>
                                    <tr>
                                        <th><strong>{{'label.input.qualification' | translate}}</strong></th>
                                        <td style="font-size:20px">{{scoring.qualification.qualification}}</td>
                                    </tr>
                                </tbody>
                            </table>
                    </div>

                    <div ng-show="scoring.qualification" class="col-sm-6 col-md-offset-2">
                        <br>
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th class="col-md-6">{{'label.heading.variable' | translate}}</th>
                                    <th>{{'label.heading.score' | translate}}</th>
                                    <th>{{'label.heading.limit' | translate}}</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="entry in selectedConfiguration.creditScoringVariableGroups">
                                    <th>{{entry.name}}</th>
                                    <td>{{fetchDatagroupValue(entry.name)}}</td>
                                    <td>{{entry.points}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <table ng-show="scoring.qualification" width="100%">
                        <tr class="bottomborder">
                            <td colspan="6">
                                <strong>{{'label.heading.creditscoringburrower' | translate}}</strong>
                            </td>
                            <td><strong>{{'label.heading.value' | translate}}</strong></td>
                            <td><strong>{{'label.heading.score' | translate}}</strong></td>
                            <td><strong>{{'label.heading.limit' | translate}}</strong></td>
                        </tr>
                        <tr class="toppadding">
                            <td colspan="6">{{'label.input.dateofbirth' | translate}}:</td>
                            <td>{{formData.burrower.dateOfBirth | DateFormat}}</td>
                            <td>{{scoring.scoringBurrower.dateOfBirthValue}}</td>
                            <td>{{limit.age}}</td>
                            <td ng-if="formData.burrower.dateOfBirthValue > 65" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.employment' | translate }}:&nbsp;
                            </td>
                            <td>{{formData.burrower.employment}}</td>
                            <td>{{scoring.scoringBurrower.employmentValue}}</td>
                            <td>{{limit.employment}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.dtiratio' | translate }}:&nbsp</td>
                            <td>{{formData.burrower.dtiRatio}}</td>
                            <td>{{scoring.scoringBurrower.dtiRatioValue}}</td>
                            <td>{{limit.dtiRatio}}</td>
                            <td ng-if="formData.burrower.dtiRatio > 50" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.paymentincidents' | translate }}</td>
                            <td class="">{{formData.burrower.paymentIncidents}}</td>
                            <td class="">{{scoring.scoringBurrower.paymentIncidentsValue}}</td>
                            <td>{{limit.paymentIncidents}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.monthlyincome' | translate }}</td>
                            <td class="">{{formData.burrower.monthlyIncome}}</td>
                            <td class="">{{scoring.scoringBurrower.monthlyIncomeValue}}</td>
                            <td>{{limit.monthlyIncome}}</td>
                            <td ng-if="formData.burrower.monthlyIncomeValue < 1500" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.liquidatedassets' | translate }}</td>
                            <td class="">{{formData.burrower.liquidatedAssets}}</td>
                            <td class="">{{scoring.scoringBurrower.liquidatedAssetsValue}}</td>
                            <td>{{limit.liquidatedAssets}}</td>
                        </tr>
                        <tr class="toppadding">
                            <td colspan="7">
                                <strong>{{'label.heading.total' | translate }}</strong>
                            </td>
                            <td><strong>{{scoring.burrower}}</strong></td>
                            <td><strong>{{limit.burrower}}</strong></td>
                        </tr>
                        <tr class="bottomborder toppadding">
                            <td colspan="8">
                                <strong>{{'label.heading.creditscoringloan' | translate}}</strong>
                            </td>
                        </tr>
                        <tr class="toppadding">
                            <td colspan="6">{{ 'label.input.interest' | translate }}</td>
                            <td>{{formData.loan.interest}}</td>
                            <td>{{scoring.scoringLoan.interestValue}}</td>
                            <td>{{limit.interest}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.amount' | translate }}</td>
                            <td>{{formData.loan.amount}} {{loanaccountinfo.currency.DisplaySymbol}}</td>
                            <td>{{scoring.scoringLoan.amountValue}}</td>
                            <td>{{limit.amount}}</td>
                            <td ng-if="formData.loan.amount > 150000" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.opening' | translate }}</td>
                            <td>{{formData.loan.opening}}</td>
                            <td>{{scoring.scoringLoan.openingValue}}</td>
                            <td>{{limit.opening}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.term' | translate }}</td>
                            <td>{{formData.loan.term}} {{loandetails.loanTermFrequencyValue}}</td>
                            <td>{{scoring.scoringLoan.termValue}}</td>
                            <td>{{limit.term}}</td>
                            <td ng-if="formData.loan.term > 60" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.loandestiny' | translate }}</td>
                            <td>{{formData.loan.loanDestiny}}</td>
                            <td>{{scoring.scoringLoan.loanDestinyValue}}</td>
                            <td>{{limit.loanDestiny}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{ 'label.input.annualapr' | translate }}</td>
                            <td>{{formData.loan.annualApr}}</td>
                            <td>{{scoring.scoringLoan.annualAprValue}}</td>
                            <td>{{limit.annualApr}}</td>
                            <td ng-if="formData.loan.annualApr < 14" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr class="toppadding">
                            <td colspan="7">
                                <strong>{{'label.heading.total' | translate }}</strong>
                            </td>
                            <td><strong>{{scoring.loan}}</strong></td>
                            <td><strong>{{limit.loan}}</strong></td>
                        </tr>
                        <tr class="bottomborder toppadding">
                            <td colspan="8">
                                <strong>{{'label.heading.creditscoringcollateral' | translate }}</strong>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="6">{{'label.input.propertytype' | translate}}</td>
                            <td>{{formData.collateral.propertyType}}</td>
                            <td>{{scoring.scoringCollateral.propertyTypeValue}}</td>
                            <td>{{limit.propertyType}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{'label.input.ltv' | translate}}</td>
                            <td>{{formData.collateral.ltv}}</td>
                            <td>{{scoring.scoringCollateral.ltvValue}}</td>
                            <td>{{limit.ltv}}</td>
                            <td ng-if="formData.collateral.ltv > 35" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{'label.input.lltv' | translate}}</td>
                            <td>{{formData.collateral.lltv}}</td>
                            <td>{{scoring.scoringCollateral.lltvValue}}</td>
                            <td>{{limit.lltv}}</td>
                            <td ng-if="formData.collateral.lltv > 50" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{'label.input.previouscharges' | translate}}</td>
                            <td>{{formData.collateral.previousCharges}}</td>
                            <td>{{scoring.scoringCollateral.previousChargesValue}}</td>
                            <td>{{limit.previouscharges}}</td>
                            <td ng-if="formData.collateral.previousChargesValue > 0" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{'label.input.population' | translate}}</td>
                            <td>{{formData.collateral.population}}</td>
                            <td>{{scoring.scoringCollateral.populationValue}}</td>
                            <td>{{limit.population}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{'label.input.pricepermetersquare' | translate}}</td>
                            <td>{{formData.collateral.pricePerMeterSquare}}</td>
                            <td>{{scoring.scoringCollateral.pricePerMeterSquareValue}}</td>
                            <td>{{limit.pricePerMeterSquare}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{'label.input.liquidityratio' | translate}}</td>
                            <td>{{formData.collateral.liquidityRatio}}</td>
                            <td>{{scoring.scoringCollateral.liquidityRatioValue}}</td>
                            <td>{{limit.liquidityRatio}}</td>
                            <td ng-if="formData.collateral.liquidityRatio < 4.5" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{'label.input.buildingvalueratio' | translate}}</td>
                            <td>{{formData.collateral.buildingValueRatio}}</td>
                            <td>{{scoring.scoringCollateral.buildingValueRatioValue}}</td>
                            <td>{{limit.buildingValueRatio}}</td>
                        </tr>
                        <tr>
                            <td colspan="6">{{'label.input.far' | translate}}</td>
                            <td>{{formData.collateral.far}}</td>
                            <td>{{scoring.scoringCollateral.farValue}}</td>
                            <td>{{limit.far}}</td>
                            <td ng-if="formData.collateral.far < 0.3" style="background-color:red; color:white">{{'label.heading.committe' | translate}}</td>
                        </tr>
                        <tr class="bottomborder toppadding">
                            <td colspan="7">
                                <strong>{{'label.heading.total' | translate }}</strong>
                            </td>
                            <td><strong>{{scoring.collateral}}</strong></td>
                            <td><strong>{{limit.collateral}}</strong></td>
                        </tr>
                    </table>
                    <br>
                    <table width="100%" ng-repeat="datatable in datatables">
                        <tr class="bottomborder toppadding">
                            <td colspan="7">
                                <strong>{{datatable.registeredTableName}}</strong>
                            </td>
                        </tr>
                        <tr ng-repeat="columnHeader in datatable.columnHeaderData">
                            <td colspan="6">{{ columnHeader.columnName | prettifyDataTableColumn }}</td>
                            <td ng-hide="fieldType(columnHeader.columnDisplayType) == 'DATETIME' || fieldType(columnHeader.columnDisplayType) == 'DATE'">{{formData.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName]}}</td>
                            <td ng-show="fieldType(columnHeader.columnDisplayType) == 'DATETIME'">{{formData.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName].date | DateFormat}}
                                {{formData.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName].time }}</td>
                            <td ng-show="fieldType(columnHeader.columnDisplayType) == 'DATE'">{{formData.datatables[datatables.indexOf(datatable)].data[columnHeader.columnName] | DateFormat}}</td>
                        </tr>
                    </table>
                    <br>
                    <br>
                    <hr>
                    <button class="btn btn-default pull-left" wz-previous>
                        <i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Previous
                    </button>
                    <button class="btn btn-default pull-right" disabled>Next&nbsp;&nbsp;
                        <i class="fa fa-arrow-right"></i>
                    </button>
                </fieldset>
            </form>
        </wz-step>
    </wizard>
</div>
